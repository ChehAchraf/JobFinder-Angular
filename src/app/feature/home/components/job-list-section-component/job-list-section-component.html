<section class="container mx-auto py-10">
  <app-search-job-component />
  @if (store.isLoading()) {
  <div class="text-center">
    <span class="loading loading-bars loading-xl "></span>
  </div>
  }
  @else {
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 mt-16 gap-8">

    @for (job of store.jobs(); track job.id) {
    <app-job-card-component [job]="job" job]="job" (onAddFavorite)="handleFavorite($event)" />
    }

  </div>

  <div class="join grid grid-cols-2 w-1/3 mx-auto mt-10">
    <button class="join-item btn btn-outline" [disabled]="store.page() <= 1"
      (click)="store.updatePage(store.page() - 1)">
      Previous page
    </button>
    <button class="join-item btn btn-outline" [disabled]="store.page() >= store.page_count()"
      (click)="store.updatePage(store.page() + 1)">
      Next
    </button>
  </div>
  <div class="text-center mt-2 text-sm opacity-50">
    Page {{ store.page() }} of {{ store.page_count() }}
  </div>
  }
</section>